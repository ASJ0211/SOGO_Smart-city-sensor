# SOGO_Smart-city-sensor
프로젝트 팀 SOGO
---------------------수정중입니다.------------------------
## 경기도 스마트 도시데이터센서(SOGO) 입지선정
- WCRC 2023 data contest
- 기간: ‘23년 10월 ~ ‘23년 11월(2개월)
- 2023 한국로봇교육콘텐츠 협회장상 수상-(한국로봇교육콘텐츠협회)

- Tools: python , QGIS
- 주요 내용
  -python을 활용한 데이터 전처리 및 클러스터링(군집화)와 MCLP(Max Covering Location Problem) 모델링 <br>
  -QGIS를 활용한 공간분석 - 거리벡터 및 그리드, 폴리곤 생성 <br>
  -버퍼 생성을 통한 인근 버스정류장의 이용객수 반영, 쓰레기 처리시설 개수 반영
  -군집 중심을 활용한 군집 선정과정
  -군집 중심 선정을 위한 거리의 역수화 및 역수화 과정에서 이상치 처리

- 활용 데이터
  - 기상청 종관 기상 관측 데이터(AWS) (2016.01~2021.12)
  - 기상청 방재 기상 관측 데이터(ASOS) (2016.01~2021.12)
  - 통계청 농작물 생산 조사 데이터 (2016.01~2021.12)
  - 농식품 빅데이터 거래소 도매시장 품목별 거래 현황 데이터 (2016.01~2021.12)
<br>


## 1️⃣ 개요
### 1.1 데이터 전처리
1) 데이터 수집 2) 결측치/이상치 파악 3) 이상치 대체 4) 변수간 관계 파악 5) 파생변수 생성 
### 1.2 모델링
1. 목표 2. 품목별 모델링 3. 앙상블 4. 결과
<br>

## 2️⃣ 주제 정의
사회적으로 관심이 증가하고 있는 스마트 시티를 설계, 계획하는데에 있어 과거 기존 스마트시티들의 단점을 파악, 기존의 단점을 보완한
스마트 센서 설치를 통한 스마트 시티를 구현하고자 한다. 최적의 설치 위치를 선정하고자 CCTV,유동인구, 대기오염(미세먼지,이산화질소,일산화탄소,오존 등),지하철역,학교 데이터 등을 활용, 군집화 과정을 통해 우선 설치가 요구되는 지점을 선정하고, MCLP(Max Covering Location Problem) 알고리즘을 통해 커버링 되는 범위가 넓은 최적의 n개(500개) 설치치점을 최종 선택한다.
<br>

## 3️⃣ 과정 

❶문제정의 ❷데이터 수집 및 가공 ❸데이터 분석 ❹모델 개발 ❺가격 예측 ❻서비스 제안 및 기대효과.

### 👤역할
기획,데이터 수집, 데이터 분석, 데이터 시각화, 모델개발
<br>

### 🧐 Main Issues
AWS, ASOS 날씨 데이터를 지역별로 그룹화하고 지역별 생산량을 가중치로 활용해 가격 예측을 하고자 하였음.
날씨데이터를 전처리하는 과정에서 결측치, 이상치 데이터를 처리하는게 어려운 점이였음.
또한 기존에 시계열 데이터를 활용하면서 롤링변수와 사인,코사인 변환 등을 활용하지 못해 아쉬웠던 점을
이번 프로젝트에서 이러한 기법을 적용해 파생변수들을 생성해 모델의 예측 정확도를 향상시키고자 하였음.

### 🛠️ Resolved
-이상치 처리-
날씨데이터 에서 이상치는 기상청의 물리 한계 검사기준을 활용해 이상치를 제거하였음.
가격이상치는 3시그마 이론 기반 99.7퍼센타일을 초과하는 값을 이상치로 판단해 삭제처리함.
정규성검정.

<br/>
-결측치 대체-<br/>
1.관측지점별로 결측치를 스플라인 보간을 활용해 대체함(주어진 데이터 내에서 부드러운 곡선이나 고차다항식을 생성해 보간) <br/>
2.IDW 보간: 인접 AWS 지점과의 거리 가중치를 활용해 역거리 가중보간을 통해 대기오염 지도 생성. <br/>
3.


<br>

### 🎯 Result
##클러스터링(군집화) 모델부분
 k-means, k-methodis, 총 3개의 군집화 모델을 활용하였음
 3개의 모델 모두 최적의 군집 개 k개를 찾을때 동일한 조건인 실루엣 스코어를 활용해 최적개수를 찾음.
 이후 최적
??
-머신러닝 모델-
XGBoost와 LGBM 모델을 활용해 앙상블.
auto ml을 통해 확인하였을때 
기존 row 데이터 (rmse: 960) > 전처리,파생변수 생성 후 데이터(rmse: 55)로 
데이터 EDA를 통해 인사이트를 도출하고 만들어낸 파생변수가 유의미하게 작용하여 초기모델에 비해 향상됨을 확인.
또한 shap 변수 중요도를 활용해 변수와 target의 관계를 시각화 하였음.
![image](https://github.com/ASJ0211/nonsan_pred_DCC/assets/118821779/77d481a4-3ae4-43eb-88b9-15888260fa96)


### ⭐ Learnd Lessons


### 💎Expected Effects






